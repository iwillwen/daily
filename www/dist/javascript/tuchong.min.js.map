{"version":3,"file":"www/dist/javascript/tuchong.min.js","sources":["src/javascript/app.js","src/javascript/services/store.js","src/javascript/services/share.js","src/javascript/services/imageloader.js","src/javascript/controllers/home.js","src/javascript/controllers/collection.js"],"names":["window","init","$ionicPlatform","$cordovaDevice","$cordovaNetwork","$cordovaPush","$timeout","avoscloud","$cordovaDialogs","$rootScope","$state","authPushService","device","callback","pushSignupError","err","alert","options","badge","sound","register","then","token","installation","deviceType","platform","toLowerCase","deviceToken","installationId","angular","forEach","item","pushNotificationReceived","event","notification","collectionId","go","id","stateChangeSuccess","e","toState","toParams","fromState","console","log","name","isGoBackHome","isGoToCollection","isBackToCollection","gotoIndex","localStorage","lastSlideIndexHome","lastSlideIndexCollection","parseInt","removeItem","$on","ready","getDevice","newtork","getNetwork","syncInstallationSuccess","result","syncError","installations","post","config","$httpProvider","$stateProvider","$urlRouterProvider","avoscloudProvider","API_TOKEN","API_TOKEN_KEY","appConfigs","defaults","useXDomain","headers","common","state","url","templateUrl","controller","otherwise","module","constant","API_SERVER","run","this","store","$resource","TC_SERVER","self","tuchong","apiMap","hot","tuchongApiMap","extraMethods","method","update","put","cache","endpoint","key","save","k","value","findById","collections","postId","service","share","$ionicLoading","$ionicActionSheet","showPopup","image","buttonClicked","index","Wechat","title","thumbnail","description","site","excerpt","author","message","thumb","uri_grid","media","type","Type","WEBPAGE","webpageUrl","scene","sheet","titleText","cancelText","buttons","text","show","popup","imageLoader","load","uri","success","hide","img","blobURL","fail","template","proxy","realuri","replace","BlobImage","ismobile","element","onload","onerror","ImageLoader","navigator","userAgent","match","home","scope","Store","fetch","data","setup","get","slidesReady","images","length","loadImage","loadChildImage","setupChildrenSwiper","slides","Swiper","onSlideChangeStart","activeIndex","childrenSlides","ii","direction","backgrounds","localImage","$apply","parentIndex","Array","isArray","childrens","openZoom","zoomImage","hideOnStateChange","hideZoom","collection","$ionicSlideBoxDelegate","$stateParams","$ionicSideMenuDelegate","fresh","lastIndex","inValid","copy","splice","updateSlides","push","toggle","side","viewLarge","loadCache","single"],"mappings":"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"}